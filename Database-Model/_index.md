# Database Model

### 3.0 to 3.1 Model Changes
- In [[Admin | Admin Model]]
    - New Table: __`BLC_ADMIN_USER_ADDTL_FIELDS`__
- In [[Customer | Customer Detail]]
    - New Fields in __`BLC_CUSTOMER`__ : `IS_PREVIEW`
- In [[Category | Catalog Category]]
    - New Table: __`BLC_CAT_SITE_MAP_GEN_CFG`__
    - New Fields in __`BLC_CATEGORY_PRODUCT_XREF`__: `CATEGORY_PRODUCT_ID`
    - New Fields in __`BLC_CATEGORY_XREF`__ : `CATEGORY_XREF_ID`
- In [[Product | Catalog Product]]
    - New Fields in __`BLC_PRODUCT`__ : `DEFAULT_SKU_ID`
    - New Fields in __`BLC_PRODUCT_OPTION_XREF`__ : `PRODUCT_OPTION_XREF_ID`
    - New Fields in __`BLC_PRODUCT_OPTION`__ : `VALIDATION_STRATEGY_TYPE`
- In [[Offer | Offer Detail]]
    - New Fields in __`BLC_OFFER`__ : `REQUIRES_RELATED_TAR_QUAL`
- In [[Order | Order Detail]]
    - New Table: __`BLC_ORDER_PAYMENT_TRANSACTION`__
    - New Table: __`BLC_TRANS_ADDITNL_FIELDS`__
    - New Fields in __`BLC_ORDER`__ : `IS_PREVIEW`
    - New Fields in __`BLC_ORDER_ITEM`__ : `PARENT_ORDER_ITEM_ID`
    - New Fields in __`BLC_ORDER_PAYMENT`__ : `ARCHIVED`
    - New Fields in __`BLC_ORDER_PAYMENT`__ : `GATEWAY_TYPE`
    - New Fields in __`BLC_ORDER_PAYMENT`__ : `ORDER_PAYMENT_ID`
    - New Fields in __`BLC_ORDER_PAYMENT`__ : `REFERENCE_NUMBER`
    - New Fields in __`BLC_PAYMENT_LOG`__ : `ORDER_PAYMENT_REF_NUM`
- In [[Common]]
    - New Table: __`BLC_SANDBOX_MGMT`__
    - New Table: __`BLC_CUST_SITE_MAP_GEN_CFG`__
    - New Table: __`BLC_SITE_MAP_CFG`__
    - New Table: __`BLC_SITE_MAP_GEN_CFG`__
    - New Table: __`BLC_SITE_MAP_URL_ENTRY`__
    - New Fields in __`BLC_SANDBOX`__ : `COLOR`
    - New Fields in __`BLC_SANDBOX`__ : `DESCRIPTION`
    - New Fields in __`BLC_SANDBOX`__ : `GO_LIVE_DATE`
    - New Fields in __`BLC_SANDBOX`__ : `PARENT_SANDBOX_ID`
    - New Fields in __`BLC_SYSTEM_PROPERTY`__ : `FRIENDLY_GROUP`
    - New Fields in __`BLC_SYSTEM_PROPERTY`__ : `FRIENDLY_NAME`
    - New Fields in __`BLC_SYSTEM_PROPERTY`__ : `FRIENDLY_TAB`
    - New Fields in __`BLC_SYSTEM_PROPERTY`__ : `PROPERTY_TYPE`
- In [[CMS | CMS Model]]
    - New Fields in __`BLC_FLD_DEF`__ : `ENUM_ID`
    - New Fields in __`BLC_FLD_DEF`__ : `REQUIRED_FLAG`
    - New Fields in __`BLC_PAGE`__ : `EXCLUDE_FROM_SITE_MAP`

    
### 2.3 to 3.0 Model Changes
- In [[Customer | Customer Detail]]
    - New Fields in `BLC_ADDRESS` : `ADDRESS_LINE3`
    - New Fields in `BLC_CUSTOMER` : `TAX_EXEMPTION_CODE`
- In [[Admin | Admin Model]]
    - New Fields in `BLC_ADMIN_SECTION` : `CEILING_ENTITY`, `DISPLAY_ORDER`
    - New Fields in `BLC_SITE` : `ARCHIVED`, `DEACTIVATED`
    - New Table: `BLC_CATALOG`
    - New Table: `BLC_SITE_CATALOG`
- In [[Common]]
    - New Fields in `BLC_LOCALE` : `IS_TRANSLATABLE`
    - New Table: `BLC_TRANSLATION`
    - New Table: `BLC_MODULE_CONFIGURATION`
- In [[Category | Catalog Category]]
    - New Fields in `BLC_CATEGORY` : `TAX_CODE`
- In [[Product | Catalog Product]]
    - New Fields in `BLC_PRODUCT` : `TAX_CODE`
    - New Fields in `BLC_PRODUCT_OPTION` : `ERROR_CODE`, `ERROR_MESSAGE`, `VALIDATION_TYPE`, `USE_IN_SKU_GENERATION`, `VALIDATION_STRING`
- In [[Sku | Catalog Sku]]
    - New Fields in `BLC_SKU`: `TAX_CODE`, `CURRENCY_CODE`
- In [[Fulfillment | Order Fulfillment]]
    - New Fields in `BLC_FULFILLMENT_OPTION`: `TAX_CODE`, `TAXABLE`
- In [[Tax | Order Tax]]
    - New Fields in `BLC_TAX_DETAIL`: `TAX_COUNTRY`, `JURISDICTION_NAME`, `TAX_REGION`, `TAX_NAME`, `MODULE_CONFIG_ID`
- In [[Offer | Offer Detail]]
    - New Fields in `BLC_OFFER`: `AUTOMATICALLY_ADDED`
- In [[Static Asset | CMS Static Asset]]
    - New Fields in `BLC_STATIC_ASSET`: `ALT_TEXT`, `STORAGE_TYPE`, `TITLE`

### 2.2 to 2.3 Model Changes
- In [[Customer | Customer Detail]]
    - New Fields in `BLC_ADDRESS`: `PHONE_FAX_ID`, `PHONE_PRIMARY_ID`, `PHONE_SECONDARY_ID`
    - New Fields in `BLC_CUSTOMER_PAYMENT`: `IS_DEFAULT`
- In [[Fulfillment | Order Fulfillment]]
    - New Fields in `BLC_FULFILLMENT_GROUP`: `FULFILLMENT_GROUP_SEQUNCE`
    - New Fields in `BLC_FULFILLMENT_GROUP_ITEM`: `PRORATED_ORDER_ADJ`, `TAXABLE_PRORATED_ORDER_ADJ`, `TOTAL_ITEM_AMOUNT`, `TOTAL_ITEM_TAXABLE_AMOUNT`
- In [[Offer | Offer Detail]]
    - New Fields in `BLC_OFFER`: `MARKETING_MESSASGE`
- In [[Order | Order Detail]]
    - New Table: `BLC_ITEM_OFFER_QUALIFIER`
    - New Table: `BLC_ORDER_ITEM_DTL_ADJ`
    - New Table: `BLC_ORDER_ITEM_PRICE_DTL`
    - New Table: `BLC_ORDER_PAYMENT_DETAILS`
    - New Fields in `BLC_ORDER_ITEM`: `DISCOUNTS_ALLOWED`, `RETAIL_PRICE_OVERRIDE`, `SALE_PRICE_OVERRIDE`, `TOTAL_TAX`
    - New Fields in `BLC_ORDER_PAYMENT`: `CUSTOMER_PAYMENT_ID`
    - New Fields in `BLC_PAYMENT_RESPONSE_ITEM`: `TRANSACTION_AMOUNT`

### 2.1 to 2.2 Model Changes
- In [[Admin | Admin Model]]
    - New Table: `BLC_ADMIN_MODULE`
    - New Table: `BLC_ADMIN_SECTION`
    - New Table: `BLC_ADMIN_SECTION_PERMISSION_XREF`
- In [[Common]]
    - New Table: `BLC_CURRENCY`
    - New Fields in `BLC_LOCALE`: `CURRENCY_CODE `
- In [[Category | Catalog Category]]
    - New Fields in `BLC_CATEGORY`: `FULFILLMENT_TYPE`, `INVENTORY_TYPE` 
- In [[Search | Catalog Search]]
    - New Fields in `BLC_FIELD`: `TRANSLATABLE`
- In [[Fulfillment | Order Fulfillment]]
    - New Fields in `BLC_FULFILLMENT_OPTION_FIXED`: `CURRENCY_CODE`
- In [[Order | Order Detail]]
    - New Fields in `BLC_ORDER`: `LOCALE_CODE`, `CURRENCY_CODE`
- In [[Payment | Order Payment]]
    - New Fields in `BLC_PAYMENT_RESPONSE_ITEM`: `CURRENCY_CODE`
    - New Fields in `BLC_PAYMENT_LOG`: `CURRENCY_CODE`
- In [[Tax | Order Tax]]
    - New Fields in `BLC_TAX_DETAIL`: `CURRENCY_CODE`
- In [[Sku | Catalog Sku]]
    - New Fields in `BLC_SKU`: `FULFILLMENT_TYPE`, `INVENTORY_TYPE`
    - New Fields in `BLC_SKU_FEE`: `CURRENCY_CODE`
- In [[Social]]
    - New Table: `BLC_UserConnection`    

### 2.0 to 2.1 Model Changes
- In [[Customer | Customer Detail]]
    - New Table: `BLC_CUSTOMER_PAYMENT`
- In [[Search | Catalog Search]]
    - New Table: `BLC_SEARCH_FACET_XREF`
    - New Fields in `BLC_SEARCH_FACET`: `REQUIRES_ALL_DEPENDENT`

### Diagrams
- [[Admin | Admin Model]]
    - [[Change Sets | Admin Change Sets]]
    - [[Modules | Admin Modules]]
    - [[Security | Admin Security]]
- [[Catalog | Catalog Model]]
    - [[Category | Catalog Category]]
    - [[Product | Catalog Product]]
    - [[Reviews | Catalog Reviews]]
    - [[Search | Catalog Search]]
    - [[Sku | Catalog Sku]]
- [[CMS | CMS Model]]
    - [[Field | CMS Field]]     
    - [[Page | CMS Page]]
    - [[Static Asset | CMS Static Asset]]
    - [[Structured Content | CMS Structured Content]]
- [[Customer | Customer Model]]
    - [[Detail | Customer Detail]]
- [[Offer | Offer Model]]
    - [[Detail | Offer Detail]]
- [[Order | Order Model]]
    - [[Detail | Order Detail]]
    - [[Fulfillment | Order Fulfillment]]
    - [[Payment | Order Payment]]
    - [[Tax | Order Tax]]
- [[Other | Other Model]]
    - [[Common]]
    - [[Email Tracking]]
    - [[Fulfillment]]
    - [[Social]]
